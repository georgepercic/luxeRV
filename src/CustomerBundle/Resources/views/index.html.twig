{% extends 'AppBundle::layout.html.twig' %}

{% block body %}
    <div class="card bg-white">
        <div class="card-header">
            Customers
        </div>
        <div class="card-block">

            <div class="row">
                <div class="col-md-1"><a href="{{  path('booking_operations') }}" class="btn btn-primary">Dashboard</a></div>
                <div class="col-md-1"><a href="{{  path('customer_new') }}" class="btn btn-primary">New Customer</a></div>
            </div><br />

            <table class="table table-bordered table-condensed datatable m-b-0">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Additional phone</th>
                    <th>Whatsapp</th>
                    <th>Skype</th>
                    <th>Billing Address</th>
                    <th>DL</th>
                    <th>DL Exp.</th>
                    <th>Insurance</th>
                    <th>IP Address</th>
                    <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for customer in customers %}
                    <tr>
                        <td>{{ customer.name }}</td>
                        <td>{{ customer.email }}</td>
                        <td>{{ customer.phone }}</td>
                        <td>{{ customer.additionalPhone }}</td>
                        <td>{{ customer.whatsapp }}</td>
                        <td>{{ customer.skype }}</td>
                        <td>{{ customer.billing }}</td>
                        <td>{{ customer.driverLicense }}</td>
                        <td>{% if customer.drivingLicenceExpirationDate %}{{ customer.drivingLicenceExpirationDate|date('m/d/Y H:i:s') }}{% endif %}</td>
                        <td>{{ customer.insurance }}</td>
                        <td>{{ customer.ipAddress }}</td>
                        <td>
                            <a href="{{ path('customer_edit', { 'id': customer.id }) }}"><span class="fa fa-pencil"></span></a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}

{% block javascripts %}

    {{ parent() }}

    <!-- page scripts -->
    <script src="{{ asset('assets/vendor/datatables/media/js/jquery.dataTables.js') }}"></script>
    <!-- end page scripts -->
    <!-- initialize page scripts -->
    <script src="{{ asset('assets/vendor/datatables/media/js/dataTables.bootstrap.js') }}"></script>
    <script type="text/javascript">
        $('.datatable').dataTable();
    </script>
    <!-- end initialize page scripts -->

{% endblock %}
